// Mock compute.js - Emscripten glue script placeholder
// This is a mock file for testing. P2/P3 will provide the real compiled WASM module.
// The real file will be generated by Emscripten from the C++ code.

// Create Module object if it doesn't exist
if (typeof Module === 'undefined') {
  self.Module = {};
}

// Mock cwrap function - wraps C functions for JavaScript use
Module['cwrap'] = function(name, returnType, argTypes) {
  console.log(`[Mock] Wrapping function: ${name}(${argTypes}) -> ${returnType}`);
  
  // Return a mock function based on the name
  if (name === 'add') {
    return function(a, b) {
      console.log(`[Mock] add(${a}, ${b}) called`);
      return a + b;
    };
  }
  
  // Default mock function
  return function() {
    console.log(`[Mock] ${name}() called`);
    return 0;
  };
};

// Simulate async WASM initialization
setTimeout(function() {
  console.log('[Mock] Simulating WASM module initialization...');
  if (typeof Module.onRuntimeInitialized === 'function') {
    Module.onRuntimeInitialized();
  }
}, 100);

console.log('[Mock] compute.js loaded (MOCK VERSION - replace with real Emscripten output)');
